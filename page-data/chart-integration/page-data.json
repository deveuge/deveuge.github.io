{"componentChunkName":"component---src-templates-blog-post-js","path":"/chart-integration/","result":{"data":{"site":{"siteMetadata":{"title":"Deveuge"}},"markdownRemark":{"id":"111cecb7-5bc5-51e8-a938-52a2999ed963","excerpt":"Chart-integration Quickchart integration component. Turn CSV files to graphical chart representation Chart-integration is an integration component built for…","html":"<h1 id=\"chart-integration\">Chart-integration</h1>\n<p><em>Quickchart integration component. Turn CSV files to graphical chart representation</em></p>\n<p><strong>Chart-integration</strong> is an integration component built for RedHat JBoss Fuse that converts CSV files to graphical charts. It uses <a href=\"https://quickchart.io/\">QuickChart API</a>, built on <a href=\"https://www.chartjs.org/\">Chart.js</a>, for generating chart images.</p>\n<h2 id=\"features\">Features</h2>\n<ul>\n<li>Import a CSV file and watch it magically convert into a graphical chart in PNG format.</li>\n<li>Select between bar, line, radar, doughnut or pie charts.</li>\n<li>Configure email notifications for every time a chart is generated successfully or when an error occurs.</li>\n</ul>\n<h2 id=\"assumptions\">Assumptions</h2>\n<p>This component makes the following assumptions:</p>\n<ul>\n<li>The input files are always in CSV format.</li>\n<li>An input file only contains data for one chart.</li>\n<li>The labels of the chart will be always the first row.</li>\n<li>The first value in the first row is always ignored.</li>\n<li>The chart to be generated will always be of type bar unless otherwise specified in the filename of the CSV.</li>\n</ul>\n<h2 id=\"installation\">Installation</h2>\n<p>Chart-integration requires the following stack:</p>\n<ul>\n<li><a href=\"https://www.java.com/en/download/help/java8.html\">Java 8</a></li>\n<li><a href=\"https://developers.redhat.com/products/eap/download\">JBoss EAP 6.4.0</a></li>\n<li><a href=\"https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?downloadType=distributions&#x26;product=jboss.fuse&#x26;version=6.3\">JBoss Fuse 6.3.0</a></li>\n</ul>\n<p>You can follow <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_fuse/6.3/html/installation_on_jboss_eap/installing_red_hat_jboss_fuse_on_eap\">this guide</a> to install JBoss Fuse on JBoss EAP.</p>\n<h2 id=\"configuration\">Configuration</h2>\n<p>The folder “ChartIntegration” located in “src/dev” contains all the configuration files needed to set up the integration component:</p>\n<ul>\n<li><strong>configuration.properties</strong>: Properties file to set configuration values.</li>\n<li><strong>conf</strong>: Configuration folder, contains the OK and KO email templates.</li>\n<li><strong>work</strong>: Folder containing de input, output and processed directories.</li>\n<li><strong>testFiles</strong>: Folder containing the test files.</li>\n</ul>\n<p>To configure <strong>Chart-integration</strong>, you must follow this steps:</p>\n<ol>\n<li>Copy the folder “ChartIntegration” located in “src/dev” into the JBoss installation root directory.</li>\n<li>Through JBoss CLI, add a String value into JNDI referencing the “configuration.properties” file location.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/subsystem=naming/binding=java:/chart-integration/configuration.properties:add(value=\"file:/path/to/ChartIntegration/configuration.properties\",binding-type=simple)</code></pre></div>\n<ol start=\"3\">\n<li>If you want to set email notifications, edit the file “configuration.properties” and fill up the properties that start with “email”. Otherwise, just leave empty the property “email.smtp.server” to disable email notifications.</li>\n<li>You are done!</li>\n</ol>\n<h3 id=\"configuration-file\">Configuration file</h3>\n<p>The properties of the configuration file are described below:</p>\n<ul>\n<li>\n<p>General:</p>\n<ul>\n<li><strong>general.file.delimiter</strong>: Delimiter of the CSV files.</li>\n<li><strong>general.directory.input</strong>: Input directory. CSV files to convert should be left here.</li>\n<li><strong>general.directory.output</strong>: Output directory. Charts (in PNG format) will be left here.</li>\n<li><strong>general.directory.processed</strong>: Processed directory. Once the chart is generated, the original CSV file will be left here with .BAK extension.</li>\n</ul>\n</li>\n<li>\n<p>Email notifications:</p>\n<ul>\n<li><strong>email.smtp.server</strong>: SMTP Server. Set it to “smtp.gmail.com” if you want to use gmail. Leave empty if you don’t want to use email notifications.</li>\n<li><strong>email.smpt.port</strong>: SMTP Port. Set it to “25” if you want to use gmail.</li>\n<li><strong>email.smtp.requiresAuthentication</strong>: Boolean that defines if the SMTP connection requires authentication.</li>\n<li><strong>email.smtp.authentication.username</strong>: SMTP Authentication username. Leave empty if the SMTP doesn’t requires authentication.</li>\n<li><strong>email.smtp.authentication.password</strong>: SMTP Authentication password. Can be encrypted with <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/security_guide/configure_and_use_password_vault\">JBoss Password Vault</a>. Leave empty if the SMTP doesn’t require authentication.</li>\n<li><strong>email.notification.from</strong>: Email notification sender.</li>\n<li><strong>email.notification.to</strong>: Email notification receivers separated by commas.</li>\n<li><strong>email.notification.subject.ok</strong>: Email subject for correct executions. Leave empty if you don’t want to use notifications for correct executions.</li>\n<li><strong>email.notification.body.ok</strong>: Path to the email template for correct executions. Leave empty if you don’t want to use notifications for correct executions.</li>\n<li><strong>email.notification.subject.ko</strong>: Email subject for erroneous executions. Leave empty if you don’t want to use notifications for erroneous executions.</li>\n<li><strong>email.notification.body.ko</strong>: Path to the email template for erroneous executions. Leave empty if you don’t want to use notifications for erroneous executions.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"testing-the-component\">Testing the component</h2>\n<p>Once the component is deployed in JBoss and the server is up and running, you can follow this steps to verify it works correctly:</p>\n<ol>\n<li>Drag a file from the “testFiles” folder to the “work/input” folder that now is located under “ChartIntegration”, in your JBoss installation directory.</li>\n<li>Go to the “work/output” folder and check there is now a PNG file named after your original file with a timestamp added.</li>\n<li>Hooray! Your chart has been generated successfully.</li>\n<li>Verify that the original CSV file is now in the “work/processed” folder with .BAK extension.</li>\n</ol>\n<h2 id=\"specifying-the-chart-type-to-generate\">Specifying the chart type to generate</h2>\n<p>By default, the component assumes the chart to generate will be a bar chart.\nTo change this, you can add one of the following suffixes to the filename, preceding it with an ”-“:</p>\n<ul>\n<li>LINE</li>\n<li>BAR</li>\n<li>RADAR</li>\n<li>DOUGHNUT</li>\n<li>PIE</li>\n</ul>\n<p>(e.g.: Rename “Sales.csv” to “Sales-LINE.csv”)</p>\n<h2 id=\"email-notifications\">Email notifications</h2>\n<p>The email notifications can be personalized editing the templates present in the “conf” folder.\nFor correct notifications, the generated chart will be attached to the email.</p>\n<h2 id=\"future-improvements\">Future improvements</h2>\n<p>There is always room for improvement. Here is a list of behaviors that can be improved:</p>\n<ul>\n<li>Fix inline images in Gmail. Right now, correct email notifications in Gmail don’t show the chart image, although is attached.</li>\n<li>Fix input data of CSV files for pie and doughnut charts. This type of charts force the CSV file to be transposed before being processed.</li>\n<li>Add more chart types. Quickchart.io has <a href=\"https://quickchart.io/gallery/\">a great variety of charts</a>. Some are variations of the existing basic types (line, bar, radar, doughnut and pie). To include them, the request should contain an “options” object inside the “chart” object.</li>\n<li>Allow different chart formats. Quickchart.io can return the generated chart in PNG, WebP, SVG, and PDF. Right now only PNG is being used.</li>\n<li>Add a service to call QuickChart.io API directly.</li>\n<li>Add tests.</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/chart-integration/#chart-integration\">Chart-integration</a></p>\n<ul>\n<li><a href=\"/chart-integration/#features\">Features</a></li>\n<li><a href=\"/chart-integration/#assumptions\">Assumptions</a></li>\n<li><a href=\"/chart-integration/#installation\">Installation</a></li>\n<li><a href=\"/chart-integration/#configuration\">Configuration</a></li>\n<li><a href=\"/chart-integration/#testing-the-component\">Testing the component</a></li>\n<li><a href=\"/chart-integration/#specifying-the-chart-type-to-generate\">Specifying the chart type to generate</a></li>\n<li><a href=\"/chart-integration/#email-notifications\">Email notifications</a></li>\n<li><a href=\"/chart-integration/#future-improvements\">Future improvements</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Chart Integration","description":"Quickchart.io integration component developed for JBoss Fuse. Transforms information contained in CSV files into graphical representations.","images":["img/projects/chart-integration-00.png","img/projects/chart-integration-02.png","img/projects/chart-integration-03.png"],"codePreview":"https://github.com/deveuge/chart-integration","livePreview":"","tags":["Java","Apache Camel","Apache CXF"]}}},"pageContext":{"slug":"/chart-integration/","previous":{"fields":{"slug":"/webdl/"},"frontmatter":{"title":"WebDL"}},"next":{"fields":{"slug":"/toxigent/"},"frontmatter":{"title":"Toxigent"}}}},"staticQueryHashes":["2841359383"]}